<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reset Password</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
  <!--
    <form id="resetPasswordForm" action="http://localhost:3007/password/resetpassword/${uuid}" method="POST">
        <div>
        <label for="newpassword">Password: </label>
        <input type="password" id="newpassword" class="col-5">
        
      </div>
          <button type="submit">Reset Password</button>
        </form>
    -->

    <div id="resetPasswordFormContainer">
        <form id="resetPasswordForm"  method="POST">
            <div>
            <label for="newpassword">Password: </label>
            <input type="password" id="newpassword" class="col-5">
            
          </div>
          <div>
            <label for="uuid">uuid: </label>
            <input type="text" id="uuid" class="col-5">
            
          </div>
              <button type="submit">Reset Password</button>
            </form>
    </div>
    <div id="page"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.4.0/axios.min.js"></script>
  
  
    <script>
      document.addEventListener("DOMContentLoaded", () => {
          console.log('on onsubmit');

          async function showResetPasswordForm(event) {
            const pg=document.getElementById('page')  
            pg.innerHTML=`<h1>submit successfull</h1>`;
            
            event.preventDefault();
              console.log('on onsubmit 2');
              const uuid = event.target.querySelector("#uuid").value;
              const pass = event.target.querySelector("#newpassword").value;
              const obj = {
                  uuid,
                  pass,
              };
              try {
                  const response = await axios.post(`http://localhost:3007/password/resetpassword`, obj);
                  console.log(response.data);
              } catch (error) {
                  console.error(error);
              }
          }
          const form = document.querySelector("#resetPasswordForm");
            form.addEventListener("submit", showResetPasswordForm);
      });
  </script>

</body>

</html>
